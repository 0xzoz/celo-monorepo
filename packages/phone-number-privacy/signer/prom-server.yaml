api-version: 2019-12-01
location: westus
name: app-with-ssl
properties:
  containers:
    - name: prom-server
      properties:
        image: prom/prometheus:v2.17.0
        ports:
          - port: 443
            protocol: TCP
        resources:
          requests:
            cpu: 1.0
            memoryInGB: 1.5
        volumeMounts:
          - name: prometheus-storage-volume
            mountPath: /prometheus
    - name: sidecar
      properties:
        image: gcr.io/stackdriver-prometheus/stackdriver-prometheus-sidecar:0.7.3
        ports:
          - port: 80
            protocol: TCP
        resources:
          requests:
            cpu: 1.0
            memoryInGB: 1.5
  volumes:
    - emptyDir: {}
      name: prometheus-storage-volume
  ipAddress:
    ports:
      - port: 443
        protocol: TCP
    type: Public
  osType: Linux
tags: null
type: Microsoft.ContainerInstance/containerGroups
